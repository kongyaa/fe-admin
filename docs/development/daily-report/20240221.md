# ê°œë°œ ë°ì¼ë¦¬ ë¦¬í¬íŠ¸ (2024-02-21)

## 1. ì½”ë“œ í€´ì¦ˆ

### ë¬¸ì œ: ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„í•˜ê¸°
ë‹¤ìŒ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ë¬´í•œ ìŠ¤í¬ë¡¤ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•´ë³´ì„¸ìš”.

ìš”êµ¬ì‚¬í•­:
1. ìŠ¤í¬ë¡¤ì´ í•˜ë‹¨ì— ë„ë‹¬í•˜ë©´ ì¶”ê°€ ë°ì´í„° ë¡œë“œ
2. ë¡œë”© ìƒíƒœ í‘œì‹œ
3. ì—ëŸ¬ ì²˜ë¦¬
4. ì¤‘ë³µ ìš”ì²­ ë°©ì§€
5. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

```typescript
interface InfiniteScrollProps<T> {
  fetchData: (page: number) => Promise<T[]>;  // ë°ì´í„° fetch í•¨ìˆ˜
  renderItem: (item: T) => JSX.Element;       // ì•„ì´í…œ ë Œë”ë§ í•¨ìˆ˜
  hasMore: boolean;                           // ì¶”ê°€ ë°ì´í„° ì¡´ì¬ ì—¬ë¶€
  threshold?: number;                         // ìŠ¤í¬ë¡¤ ê°ì§€ ì„ê³„ê°’
}

// êµ¬í˜„í•´ë³´ì„¸ìš”!
function InfiniteScroll<T>({ fetchData, renderItem, hasMore, threshold = 100 }: InfiniteScrollProps<T>) {
  // ì—¬ê¸°ì— êµ¬í˜„
}
```

### ì˜ˆì‹œ ë‹µì•ˆ:
```typescript
import React, { useState, useEffect, useRef, useCallback } from 'react';

function InfiniteScroll<T>({ fetchData, renderItem, hasMore, threshold = 100 }: InfiniteScrollProps<T>) {
  const [items, setItems] = useState<T[]>([]);
  const [page, setPage] = useState(1);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<Error | null>(null);
  const observer = useRef<IntersectionObserver>();
  const loadingRef = useRef<HTMLDivElement>(null);

  const loadMore = useCallback(async () => {
    if (loading || !hasMore) return;
    
    try {
      setLoading(true);
      setError(null);
      const newItems = await fetchData(page);
      setItems(prev => [...prev, ...newItems]);
      setPage(prev => prev + 1);
    } catch (err) {
      setError(err instanceof Error ? err : new Error('Failed to fetch data'));
    } finally {
      setLoading(false);
    }
  }, [fetchData, page, loading, hasMore]);

  useEffect(() => {
    if (!loadingRef.current) return;

    observer.current = new IntersectionObserver(
      entries => {
        if (entries[0].isIntersecting && hasMore) {
          loadMore();
        }
      },
      { threshold: 0.1, rootMargin: `${threshold}px` }
    );

    observer.current.observe(loadingRef.current);

    return () => observer.current?.disconnect();
  }, [loadMore, hasMore, threshold]);

  return (
    <div>
      {items.map((item, index) => (
        <div key={index}>{renderItem(item)}</div>
      ))}
      
      {error && (
        <div className="error">
          Error: {error.message}
          <button onClick={() => loadMore()}>Retry</button>
        </div>
      )}
      
      <div ref={loadingRef}>
        {loading && <div className="loading">Loading...</div>}
      </div>
    </div>
  );
}
```

### ì„¤ëª…:
- Intersection Observerë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ ê°ì§€
- ë¡œë”© ìƒíƒœì™€ ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬
- useCallbackê³¼ useEffectë¥¼ í™œìš©í•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
- ì¤‘ë³µ ìš”ì²­ ë°©ì§€ë¥¼ ìœ„í•œ ë¡œë”© ìƒíƒœ ì²´í¬
- ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ observer ì •ë¦¬

## 2. ë©´ì ‘ ì§ˆë¬¸ ëª©ë¡

### JavaScript
1. **í”„ë¡œí† íƒ€ì… ì²´ì¸ê³¼ ìƒì†ì˜ ë™ì‘ ë°©ì‹ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
class Animal {
  constructor(name) {
    this.name = name;
  }
  
  speak() {
    return `${this.name} makes a sound`;
  }
}

class Dog extends Animal {
  constructor(name, breed) {
    super(name);
    this.breed = breed;
  }
  
  speak() {
    return `${this.name} barks`;
  }
  
  fetch() {
    return `${this.name} fetches the ball`;
  }
}

const dog = new Dog('Rex', 'German Shepherd');
console.log(dog.speak()); // "Rex barks"
console.log(dog.fetch()); // "Rex fetches the ball"
```
ì„¤ëª…: JavaScriptì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì€ ê°ì²´ì˜ ì†ì„±ì´ë‚˜ ë©”ì„œë“œë¥¼ ì°¾ì„ ë•Œ ìƒìœ„ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. í´ë˜ìŠ¤ëŠ” ì´ëŸ¬í•œ í”„ë¡œí† íƒ€ì… ê¸°ë°˜ ìƒì†ì„ ë” ëª…í™•í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

2. **ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì˜ ë‹¤ì–‘í•œ íŒ¨í„´ì„ ë¹„êµ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ì½œë°± íŒ¨í„´
function fetchData(callback) {
  setTimeout(() => {
    callback(null, { data: 'success' });
  }, 1000);
}

// Promise íŒ¨í„´
function fetchDataPromise() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve({ data: 'success' });
    }, 1000);
  });
}

// Async/Await íŒ¨í„´
async function fetchDataAsync() {
  try {
    const response = await fetch('/api/data');
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error:', error);
    throw error;
  }
}

// Generator íŒ¨í„´
function* fetchDataGenerator() {
  try {
    const response = yield fetch('/api/data');
    const data = yield response.json();
    return data;
  } catch (error) {
    console.error('Error:', error);
    throw error;
  }
}
```
ì„¤ëª…: ê° íŒ¨í„´ì€ ë¹„ë™ê¸° ì‘ì—…ì„ ë‹¤ë£¨ëŠ” ë‹¤ë¥¸ ì ‘ê·¼ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤. PromiseëŠ” ì½œë°± ì§€ì˜¥ì„ í•´ê²°í•˜ê³ , Async/AwaitëŠ” ë™ê¸° ì½”ë“œì²˜ëŸ¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë©°, GeneratorëŠ” ì„¸ë°€í•œ ì œì–´ê°€ í•„ìš”í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

3. **ë©”ëª¨ë¦¬ ê´€ë¦¬ì™€ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ë™ì‘ ë°©ì‹ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì˜ˆì‹œ
function createMemoryLeak() {
  const heavyObject = new Array(1000000).fill('ğŸš€');
  
  window.addEventListener('resize', function() {
    console.log(heavyObject.length);
  });
}

// ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
function preventMemoryLeak() {
  const heavyObject = new Array(1000000).fill('ğŸš€');
  const handler = () => console.log(heavyObject.length);
  
  window.addEventListener('resize', handler);
  
  // í´ë¦°ì—… í•¨ìˆ˜
  return () => {
    window.removeEventListener('resize', handler);
  };
}

// WeakMapì„ ì‚¬ìš©í•œ ë©”ëª¨ë¦¬ ê´€ë¦¬
const cache = new WeakMap();

function memoize(fn) {
  return function(obj) {
    if (!cache.has(obj)) {
      cache.set(obj, fn(obj));
    }
    return cache.get(obj);
  };
}
```
ì„¤ëª…: JavaScriptì˜ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì€ ì°¸ì¡°ë˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•©ë‹ˆë‹¤. WeakMapê³¼ ê°™ì€ ì•½í•œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì ì ˆíˆ ì œê±°í•˜ëŠ” ë“±ì˜ ë°©ë²•ìœ¼ë¡œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### React/Next.js
1. **React 18ì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ê³¼ Suspenseì˜ í™œìš© ë°©ë²•ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ë°ì´í„° í˜ì¹­ì„ ìœ„í•œ Suspense ì‚¬ìš©
function AsyncComponent() {
  const data = use(fetchData()); // ê°€ìƒì˜ use í›…
  return <div>{data}</div>;
}

// ì´ë¯¸ì§€ ë¡œë”©ì„ ìœ„í•œ Suspense
function ImageComponent() {
  return (
    <Suspense fallback={<Spinner />}>
      <AsyncImage src="large-image.jpg" />
    </Suspense>
  );
}

// ë¼ìš°íŒ…ì„ ìœ„í•œ Suspense
function App() {
  return (
    <Suspense fallback={<Loading />}>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
      </Routes>
    </Suspense>
  );
}
```
ì„¤ëª…: SuspenseëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ ë¡œë”© ìƒíƒœë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. React 18ì—ì„œëŠ” Suspenseì˜ ê¸°ëŠ¥ì´ í™•ì¥ë˜ì–´ ë°ì´í„° í˜ì¹­, ì´ë¯¸ì§€ ë¡œë”©, ë¼ìš°íŒ… ë“± ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. **ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ì°¨ì´ì ê³¼ í™œìš© ì „ëµì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ì„œë²„ ì»´í¬ë„ŒíŠ¸
async function ServerComponent() {
  const data = await db.query('SELECT * FROM users');
  
  return (
    <div>
      {data.map(user => (
        <UserCard key={user.id} user={user} />
      ))}
    </div>
  );
}

// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸
'use client';

function ClientComponent() {
  const [count, setCount] = useState(0);
  
  return (
    <button onClick={() => setCount(count + 1)}>
      Count: {count}
    </button>
  );
}

// í•˜ì´ë¸Œë¦¬ë“œ íŒ¨í„´
function HybridPage() {
  return (
    <ServerComponent>
      <ClientComponent />
    </ServerComponent>
  );
}
```
ì„¤ëª…: ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ì–´ ë²ˆë“¤ í¬ê¸°ë¥¼ ì¤„ì´ê³  ë°ì´í„° ì ‘ê·¼ì„ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ìƒí˜¸ì‘ìš©ì´ í•„ìš”í•œ UIë¥¼ êµ¬í˜„í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ë‘ ê°€ì§€ë¥¼ ì ì ˆíˆ ì¡°í•©í•˜ì—¬ ìµœì ì˜ ì„±ëŠ¥ê³¼ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **ìƒíƒœ ê´€ë¦¬ ì „ëµê³¼ ì„±ëŠ¥ ìµœì í™” ë°©ë²•ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ì»´í¬ë„ŒíŠ¸ ìˆ˜ì¤€ì˜ ìƒíƒœ ê´€ë¦¬
function LocalStateComponent() {
  const [state, setState] = useState(initialState);
  return <Child state={state} />;
}

// Contextë¥¼ ì‚¬ìš©í•œ ìƒíƒœ ê´€ë¦¬
const StateContext = createContext<State>(initialState);

function GlobalStateProvider({ children }) {
  const [state, dispatch] = useReducer(reducer, initialState);
  
  return (
    <StateContext.Provider value={{ state, dispatch }}>
      {children}
    </StateContext.Provider>
  );
}

// Zustandë¥¼ ì‚¬ìš©í•œ ìƒíƒœ ê´€ë¦¬
const useStore = create<State>((set) => ({
  count: 0,
  increment: () => set(state => ({ count: state.count + 1 })),
  decrement: () => set(state => ({ count: state.count - 1 }))
}));
```
ì„¤ëª…: ìƒíƒœ ê´€ë¦¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ì™€ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë‹¤ì–‘í•œ ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œì»¬ ìƒíƒœëŠ” useStateë¡œ, ê³µìœ  ìƒíƒœëŠ” Contextë‚˜ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì„±ëŠ¥ ìµœì í™”
1. **ë²ˆë“¤ í¬ê¸° ìµœì í™” ì „ëµì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ë™ì  ì„í¬íŠ¸
const DynamicComponent = dynamic(() => import('./HeavyComponent'), {
  loading: () => <Spinner />,
  ssr: false
});

// ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
const routes = {
  '/': lazy(() => import('./pages/Home')),
  '/about': lazy(() => import('./pages/About')),
  '/dashboard': lazy(() => import('./pages/Dashboard'))
};

// ë²ˆë“¤ ë¶„ì„
const withBundleAnalyzer = require('@next/bundle-analyzer')({
  enabled: process.env.ANALYZE === 'true'
});

module.exports = withBundleAnalyzer({
  // next.js config
});
```
ì„¤ëª…: ë²ˆë“¤ í¬ê¸°ë¥¼ ìµœì í™”í•˜ê¸° ìœ„í•´ ë™ì  ì„í¬íŠ¸, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…, íŠ¸ë¦¬ ì‰ì´í‚¹ ë“±ì˜ ê¸°ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë²ˆë“¤ ë¶„ì„ ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ìµœì í™” í¬ì¸íŠ¸ë¥¼ ì°¾ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. **ë Œë”ë§ ìµœì í™” ì „ëµì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ë©”ëª¨ì´ì œì´ì…˜
const MemoizedComponent = memo(function ExpensiveComponent({ data }) {
  return <div>{/* ë³µì¡í•œ ë Œë”ë§ ë¡œì§ */}</div>;
});

// ì½œë°± ìµœì í™”
function ParentComponent() {
  const [items, setItems] = useState([]);
  
  const handleUpdate = useCallback((id: string, value: string) => {
    setItems(prev => prev.map(item => 
      item.id === id ? { ...item, value } : item
    ));
  }, []);
  
  return <ItemList items={items} onUpdate={handleUpdate} />;
}

// ê°€ìƒí™”
function VirtualList({ items }) {
  const rowVirtualizer = useVirtual({
    size: items.length,
    parentRef,
    estimateSize: useCallback(() => 50, []),
    overscan: 5
  });
  
  return (
    <div ref={parentRef}>
      <div style={{ height: `${rowVirtualizer.totalSize}px` }}>
        {rowVirtualizer.virtualItems.map(virtualRow => (
          <div key={virtualRow.index}>
            {items[virtualRow.index]}
          </div>
        ))}
      </div>
    </div>
  );
}
```
ì„¤ëª…: React.memo, useCallback, useMemo ë“±ì„ ì‚¬ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ê³ , ê°€ìƒí™”ë¥¼ í†µí•´ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **ë„¤íŠ¸ì›Œí¬ ìµœì í™” ì „ëµì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.**
```typescript
// ë°ì´í„° í”„ë¦¬í˜ì¹­
function prefetchData() {
  const links = document.querySelectorAll('a');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const link = entry.target as HTMLAnchorElement;
        prefetch(link.href);
      }
    });
  });
  
  links.forEach(link => observer.observe(link));
}

// ìºì‹± ì „ëµ
const cache = new Map();

async function fetchWithCache(url: string) {
  if (cache.has(url)) {
    return cache.get(url);
  }
  
  const response = await fetch(url);
  const data = await response.json();
  cache.set(url, data);
  
  return data;
}

// ì´ë¯¸ì§€ ìµœì í™”
function OptimizedImage() {
  return (
    <Image
      src="/large-image.jpg"
      alt="Optimized"
      width={800}
      height={600}
      placeholder="blur"
      loading="lazy"
      quality={75}
    />
  );
}
```
ì„¤ëª…: ë°ì´í„° í”„ë¦¬í˜ì¹­, ìºì‹±, ì´ë¯¸ì§€ ìµœì í™” ë“±ì„ í†µí•´ ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥ì„ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Next.jsì˜ ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ í™œìš©í•˜ë©´ ìë™ìœ¼ë¡œ ë‹¤ì–‘í•œ ìµœì í™”ê°€ ì ìš©ë©ë‹ˆë‹¤. 